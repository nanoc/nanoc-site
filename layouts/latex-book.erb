\documentclass[10pt]{memoir}

\usepackage{amssymb}
\usepackage{xltxtra}
\usepackage[compact]{titlesec}
\usepackage{fancyvrb}
\usepackage{environ}
\usepackage{alltt}
\usepackage{textcomp}
\usepackage[pdfborder={0 0 0},pdfusetitle]{hyperref}
\usepackage{pdfpages}
\usepackage{url}
\usepackage{rotating}
\usepackage{multirow}
\usepackage{color}
\usepackage{listings}
\usepackage[plain,noend,noline]{algorithm2e}
\usepackage{enumitem}
\usepackage{mdframed}
\usepackage[listings,skins]{tcolorbox}
\usepackage{enumitem}

\setstocksize{9in}{7in}
\settrimmedsize{\stockheight}{\stockwidth}{*}
\setlrmarginsandblock{1in}{1in}{*} % Left and right margin
\setulmarginsandblock{0.8in}{0.8in}{*} % Upper and lower margin
\checkandfixthelayout

\input{<%= @items['/assets/style/book.tex'][:content_filename] %>}

\setcounter{tocdepth}{2}

\title{Nanoc}
\author{Denis Defreyne}

\begin{document}

\maketitle

\frontmatter

\setcounter{page}{1}

\pagestyle{plain}

\tableofcontents

\mainmatter

\pagestyle{thesis}

<%= yield %>

\end{document}
